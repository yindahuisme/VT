<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>vt</title>
    <!-- element-ui css -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <!-- 自定义css -->
    <link type="text/css" rel="styleSheet" href="./css/vt.css" />
    <!-- axios -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <!-- adobe cep 桥接 -->
    <script src="./js/adobe/CSInterface.js"></script>
    <!-- vue -->
    <script src="./js/vue/vue.js"></script>
    <script>
        // 关闭生产提示
        Vue.config.productionTip = false
    </script>
    <!-- vuex -->
    <script src="https://unpkg.com/vuex@3.1.0/dist/vuex.js"></script>
    <!-- element-ui -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <!-- 音频波形可视化 -->
    <script src="./js/wavesurfer/wavesurfer.js"></script>
    <script>
        // 安装vue插件
        Vue.use(Vuex)
    </script>

</head>

<body>
    <div id="app">
        <vt_component></vt_component>
    </div>
</body>

<template id="vt">
    <div v-loading="vt_loading" :element-loading-text="vt_loadingText" element-loading-spinner="el-icon-loading"
        element-loading-background="rgba(255, 255, 255, 0.8)">
        <!-- 内容头 -->
        <div id="vt_header">
            <!-- 内容头-卡片 -->
            <el-card class="box-card">
                <!-- 项目logo -->
                <img src="./imgs/header_ico.png">
                <!-- 项目名 -->
                <div>{{vt_header_card_title}}</div>
                <!-- 设置 -->
                <setting_component></setting_component>
                <!-- 字幕 -->
                <el-button circle>
                    字幕
                </el-button>
            </el-card>

        </div>
        <!-- 内容区 -->
        <div id="vt_main">
            <matfile_component></matfile_component>
            <pre_component></pre_component>
            <info_component></info_component>
            <mat_component></mat_component>
        </div>
    </div>
</template>

<!-- 素材文件组件-模板代码 -->
<template id="vt_main_matFile_template">
    <div id="vt_main_matFile">
        <!-- 素材文件组件-卡片 -->
        <el-card class="box-card">
            <!-- 卡片头 -->
            <div slot="header" class="clearfix">
                <!-- sql筛选下拉框 -->
                <el-select title="sql筛选下拉框" size="mini" v-model="vt_main_matFile_headerMenuValue" filterable
                    allow-create>
                    <el-option v-for="item in vt_main_matFile_headerMenuOptions" :key="item.value" :label="item.label"
                        :value="item.value">
                    </el-option>
                </el-select>

                <!-- 编辑素材文件筛选sql按钮，编辑面板 -->
                <el-button title="sql编辑按钮" icon="el-icon-edit" @click="vt_main_matFile_headerEditDialogVisible = true"
                    circle>
                </el-button>
                <el-dialog title="素材文件筛选sql编辑" :visible.sync="vt_main_matFile_headerEditDialogVisible">
                    <el-input type="textarea" placeholder="请输入内容" v-model="vt_main_matFile_headerEditDialogSqlText" resize="none">
                    </el-input>
                    <span slot="footer">
                        <el-button type="danger" @click="vt_main_matFile_headerEditDialogVisible = false">删 除
                        </el-button>
                        <el-button type="primary" @click="vt_main_matFile_headerEditDialogVisible = false">保
                            存</el-button>
                    </span>
                </el-dialog>
            </div>
            <!-- 卡片body -->
            <div>
                <el-table height="42vh" :data="vt_main_matFile_bodyTableData"
                    :row-class-name="vt_main_matFile_bodyTableRowClassName"
                    @current-change="vt_main_matFile_bodyTableHandleCurrentChange" highlight-current-row>
                    <el-table-column property="type" label="类型">
                    </el-table-column>
                    <el-table-column property="key" label="素材文件名">
                    </el-table-column>
                </el-table>
            </div>
        </el-card>
    </div>

</template>

<!-- 预览组件-模板代码 -->
<template id="vt_main_pre_template">
    <div id='vt_main_pre'>
        <el-card class="box-card ">
            <!-- 视频 -->
            <div title="视频" v-if="vt_main_matFile_bodyTableCurrentRow.type == '视频'">
                视频
            </div>
            <!-- 音频 -->
            <div title="音频" v-else-if="vt_main_matFile_bodyTableCurrentRow.type == '音频'" style="width:100%">
                音频
            </div>
            <!-- 图片 -->
            <div title="图片" v-else-if="vt_main_matFile_bodyTableCurrentRow.type == '图片'">
                图片
            </div>
            <div title="none" v-else>
                未选中素材文件
            </div>
        </el-card>
    </div>
</template>

<!-- 信息组件-模板代码 -->
<template id="vt_main_info_template">
    <div id='vt_main_info'>
        <el-card class="box-card ">
            info
        </el-card>
    </div>
</template>

<!-- 素材组件-模板代码 -->
<template id="vt_main_mat_template">
    <div id='vt_main_mat'>
        <el-card class="box-card ">
            mat
        </el-card>
    </div>
</template>

<!-- 设置组件-模板代码 -->
<template id="vt_main_setting_template">
    <div id="vt_main_setting">
        <el-button icon="el-icon-setting" @click="vt_header_settingDialogVisible = true" circle>
        </el-button>
        <el-dialog title="设置面板" :visible.sync="vt_header_settingDialogVisible">
                <el-divider content-position='center'>常规操作</el-divider>
                <div class="setting_singleRow" style="display:inline-block;width:20%;text-align:center;">
                    <label>素材文件目录:</label>
                </div>
                <el-input type="textarea" resize="none" @change="update_property($event,'vt_main_setting_metFilePath')" placeholder="请输入内容"
                    :rows="vt_main_setting_metFilePath.split('\n').length" v-model="vt_main_setting_metFilePath"
                    style="display:inline-block;width:75%; ">
                </el-input>

                <el-divider content-position='center'>卡点</el-divider>
                <div class="setting_singleRow" style="display:inline-block;width:20%;text-align:center;">
                    <label>卡点时长(ms):</label>
                </div>
                <el-input type="textarea" resize="none" @change="update_property($event,'vt_main_setting_freePointMs')" placeholder="请输入内容"
                    :rows="vt_main_setting_freePointMs.split('\n').length" v-model="vt_main_setting_freePointMs"
                    style="display:inline-block;width:75%; ">
                </el-input>
                <div class="setting_singleRow" style="display:inline-block;width:20%;text-align:center;">
                    <label>入点快捷键:</label>
                </div>
                <el-input type="textarea" resize="none" @change="update_property($event,'vt_main_setting_inPointHotKey')" placeholder="请输入内容"
                    :rows="vt_main_setting_inPointHotKey.split('\n').length" v-model="vt_main_setting_inPointHotKey"
                    style="display:inline-block;width:75%; ">
                </el-input>
                <div class="setting_singleRow" style="display:inline-block;width:20%;text-align:center;">
                    <label>变速点快捷键:</label>
                </div>
                <el-input type="textarea" resize="none" @change="update_property($event,'vt_main_setting_speedPointHotKey')" placeholder="请输入内容"
                    :rows="vt_main_setting_speedPointHotKey.split('\n').length" v-model="vt_main_setting_speedPointHotKey"
                    style="display:inline-block;width:75%; ">
                </el-input>
                <div class="setting_singleRow" style="display:inline-block;width:20%;text-align:center;">
                    <label>出点快捷键:</label>
                </div>
                <el-input type="textarea" resize="none" @change="update_property($event,'vt_main_setting_outPointHotKey')" placeholder="请输入内容"
                    :rows="vt_main_setting_outPointHotKey.split('\n').length" v-model="vt_main_setting_outPointHotKey"
                    style="display:inline-block;width:75%; ">
                </el-input>
                
                <el-divider content-position='center'>转场</el-divider>
                <div class="setting_singleRow" style="display:inline-block;width:20%;text-align:center;">
                    <label>转场效果:</label>
                </div>
                <!-- 转场效果下拉框 -->
                <el-select title="转场效果下拉框" size="mini" @change="update_property($event,'vt_main_setting_transformEffectValue')" v-model="vt_main_setting_transformEffectValue" filterable 
                style="display:inline-block;width:75%; ">
                    <el-option v-for="item in vt_main_setting_transformEffectOptions" :key="item" :label="item"
                        :value="item">
                    </el-option>
                </el-select>

                <div class="setting_singleRow" style="display:inline-block;width:20%;text-align:center;">
                    <label>转场持续时间(ms):</label>
                </div>
                <el-input type="textarea" resize="none" placeholder="请输入内容" 
                    @change="update_property($event,'vt_main_setting_transformEffectMs')"
                    :rows="vt_main_setting_transformEffectMs.split('\n').length" v-model="vt_main_setting_transformEffectMs"
                    style="display:inline-block;width:75%; ">
                </el-input>
                
        </el-dialog>
    </div>
</template>
<!-- 自定义vue组件 -->
<script src="./js/src/components.js"></script>
<!-- 注册vuex插件 -->
<script src="./js/src/store.js"></script>
<!-- app组件 -->
<script src="./js/src/app.js"></script>

</html>